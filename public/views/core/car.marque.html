<section class="container-fluid" style="padding-bottom: 40px;">
    <div class="col-sm-3 col-md-3 col-lg-3 col-xs-12">
        <!-- Search option -->
        <div class="side-search">
            <form class="car-form" ng-submit="searchCar()">
                <div class="row">
                    <div class="col-md-12 col-xs-12  form-item">
                        <label class="hidden col-md-4" for="car-manufacturer">Make
                        </label>
                        <select ng-model="marque" id="car-manufacturer" class="form-select col-md-10 col-xs-10 col-xs-offset-1 col-md-offset-1 x-select">
                            <option value="">{{"HOME_SEARCH_FORM_MARQUE"|translate}}</option>
                            <option ng-repeat="marque in marques track by $index" value="{{marque}}">{{marque.nom}}</option>
                        </select>
                    </div>
                    <div class="col-md-12 col-xs-12 form-item ">
                        <label class="hidden col-md-4"  for="car-model">{{""|translate}}</label>
                        <select ng-model="search.model" name="car" id="car-model" class="form-select disabled col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1 x-select" ng-disabled="marque==null" >
                            <option value="">{{"HOME_SEARCH_FORM_MODEL"|translate}}</option>
                            <option ng-repeat="model in models track by $index" value="{{model}}">{{model}}</option>
                        </select>
                    </div>
                    <div class="col-md-12 col-xs-12 form-item">
                        <label class="hidden col-md-4" for="car-year">Make
                        </label>
                        <input ng-model="search.year" class="form-select col-md-10 col-xs-10 col-md-offset-1 col-xs-offset-1 x-select" drange from="2000" id="date" ng-required="false"
                               required>
                    </div>
                    <div class="col-md-12 col-xs-12 form-item">
                        <label class="hidden col-md-4" for="car-transition">Make
                        </label>
                        <select ng-model="search.transmission"  id="car-transition" class="form-select col-md-10 col-xs-10 col-xs-offset-1 col-md-offset-1 x-select">
                            <option value="">{{"CARS_SEARCH_FORM_TRANSITION"|translate}}</option>
                            <option value="auto">{{'CARS_SEARCH_FORM_TRANSITION_AUTOMATIC'|translate}}</option>
                            <option value="semi-auto">{{'CARS_SEARCH_FORM_TRANSITION_SEMI_AUTOMATIC'|translate}}</option>
                            <option value="manual">{{'CARS_SEARCH_FORM_TRANSITION_MANUAL'|translate}}</option>
                        </select>
                    </div>
                    <div class="col-md-12 col-xs-12 form-item">
                        <label class="hidden col-md-4" for="car-state">Make
                        </label>
                        <select ng-model="search.condition"   id="car-state" class="form-select col-md-10 col-xs-10 col-xs-offset-1 col-md-offset-1 x-select">
                            <option value="">{{"HOME_SEARCH_FORM_CONDITION"|translate}}</option>
                            <option value="new">{{"HOME_SEARCH_FORM_NEW"|translate}}</option>
                            <option value="old">{{"HOME_SEARCH_FORM_USED"|translate}}</option>
                        </select>
                    </div>
                    <div class="col-md-12 col-xs-12 ">
                        <h4 class="col-md-12" style="    color: white;">{{'HOME_SEARCH_FORM_PRICE'|translate}} <span
                                id="minPrice">30000</span>&nbsp; {{'AND'|translate}} &nbsp;<span id="maxPrice">200000</span>&nbsp;
                            {{'MONEY'|translate}}</h4>
                        <div class="col-md-12 slider slider-horizontal">
                            <input ng-model="search.price"
                                   ng-required="false"
                                   id="price_range"
                                   data-slide-rtl="{{dir=='rtl'}}"
                                   data-slider-handle="round" type="text"
                                   class="span2"
                                   data-slider-min="5000"
                                   data-slider-max="300000"
                                   data-slider-step="1000"
                                   data-slider-value="[30000,200000]">
                        </div>
                    </div>
                    <button class="search-btn">{{'HOME_SEARCH_BTN'|translate}}</button>
                </div>
            </form>
        </div>
    </div>
    <div class="col-md-9 col-sm-9 col-xs-12 container-fluid">
        <div class="col-md-12  {{dir}}" style="margin-top: 50px">
            <div class="heading-2 col-md-4 car-filter car-f-top">
                <h3 class="p-l-lg-20" style="margin: 0px;">
                <span ng-if="zone=='new_cars'">{{"SHOW_CARS_NEW_CARS"|translate}}</span>
                <span ng-if="zone=='old_cars'">{{"SHOW_CARS_USED_CARS"|translate}}</span>
                <span ng-if="zone=='search'">{{"SHOW_CARS_SEARCH"|translate}}</span>
                <span ng-if="zone=='marque_car'">{{"SHOW_CARS_MARQUE"|translate}} {{ selectedMarque }}</span>
                </h3>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12 car-filter car-f-btm">
                <div class="col-md-4 col-xs-12 ">
                    <input ng-model="searchText" type="text" placeholder="{{'HOME_SEARCH_BTN'|translate}}......." class="form-control input-lg">
                </div>
                <div class="col-md-8 col-xs-12 text-right  ">
                    <div class="pull-right col-md-12 col-xs-12">
                        <div class="form-group col-md-6 col-xs-6">
                            <label class="col-md-5 col-xs-6"><i class="fa fa-sort-alpha-asc"></i>Filter : </label>
                            <div class="col-md-7 col-xs-6 black_input" style="padding: 0px;">
                                <select ng-model="order" class="select  form-control">
                                    <option value="-prix">Prix</option>
                                    <option value="-annee">Année</option>
                                    <option value="-kilometrage">Kilométrage</option>
                                </select>
                            </div>

                        </div>
                        <div class="form-group col-md-6 col-xs-6">
                            <label class="col-md-5 col-xs-6"><i class="fa fa-sort-alpha-asc"></i>Show : </label>
                            <div class="col-md-7 col-xs-6 black_input">
                                <select class="select  form-control">
                                    <option value="8">8</option>
                                    <option value="16">16</option>
                                    <option value="24">24</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12" style="margin-top: 20px">
                <div ng-repeat="car in cars|filter:searchText|orderBy:order track by $index" class="col-lg-4  col-md-6 col-sm-10 col-sm-offset-1 col-md-offset-0 col-xs-12">
                    <div class="thumbnail no-border no-padding thumbnail-car-card">
                        <div class="media">
                            <div class="media-link" data-gal="prettyPhoto">
                                <img src="{{car.images.length>0?car.images[0]:'/public/assets/img/car/no_image.png'}}"
                                     class="img-responsive">
                                <span class="icon-view" ui-sref="show_car({id:car._id})">
                                    <strong>
                                        <i class="fa fa-eye"></i>
                                    </strong>
                                </span>
                            </div>
                        </div>
                        <div>
                            <table class="table">
                                <tbody>
                                <tr>
                                    <td class="text-center"  ><i class="fa fa-car "></i> {{car.annee}}</td>
                                    <td class="text-center" ><i class="fa fa-dashboard "></i> {{car.energie}}</td>
                                    <td class="text-center" ><i class="fa fa-cog "></i> {{car.type_vitesse}}</td>
                                    <td class="text-center" ><i class="fa fa-road "></i> 25000</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="product-caption row no-margin">
                            <h4 class="product-name ">
                                {{car.marque+" "+ car.model+" ,"+car.annee}}
                            </h4>
                            <span class="product-price {{dir}} col-md-5">{{car.prix }} د.ت</span>
                        </div>
                    </div>
                </div>

                <div ng-show="cars.length<1" class="col-md-12 text-center"
                     style="margin-top: 100px;margin-bottom: 100px">
                    <h1 class="font-red-flamingo">{{'NO_CARS_FOUND'|translate}} .</h1>
                </div>
            </div>
            <div class="row text-center">
                <ul id="pagination" uib-pagination total-items="bigTotalItems" ng-model="bigCurrentPage"
                    max-size="maxSize"
                    class="pagination-sm" boundary-link-numbers="true" rotate="false"></ul>
            </div>
        </div>
    </div>
</section>
<script>
    $(document).ready(function () {
        $("#price_range").slider({
            formatter: function (value) {
                if ($("html").attr('dir') == 'rtl') {
                    return value[0] + " و " + value[1] + " د ت  ";
                } else
                    return value[0] + " et " + value[1] + " DT  ";
            }
        }).on('change', function (ev) {
            $('#minPrice').text(ev.value.newValue[0]);
            $('#maxPrice').text(ev.value.newValue[1]);

        });
    });
</script>